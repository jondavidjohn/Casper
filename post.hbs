{{!< default}}

{{! The comment above "< default" means - insert everything in this file into
    the {body} of the default.hbs template, which contains our header/footer. }}

<main class="content" role="main">

    <article class="{{post_class}}">

        {{! Each post has the blog logo at the top, with a link back to the home page }}
        <header class="post-header">
            <a class="blog-logo" href="{{@blog.url}}">
                    <img src="{{@blog.logo}}" alt="Blog Logo" />
                    <span class="blog-title">{{@blog.title}}</span>
            </a>
        </header>

        {{! Everything inside the #post tags pulls data from the post }}
        {{#post}}

            {{#contentFor "meta"}}
                <meta name="twitter:card" content="summary">
                <meta name="twitter:title" content="{{title}}">
                <meta name="twitter:image:src" content="{{@blog.url}}{{@blog.logo}}">
                <meta name="twitter:description" content="{{excerpt}}">
                <meta name="twitter:site" content="@jondavidjohn">
                <meta name="twitter:creator" content="@jondavidjohn">
                <meta name="twitter:url" content="{{@blog.url}}{{url}}" />

                <meta property="og:locale" content="en_US" />
                <meta property="og:type" content="article" />
                <meta property="og:title" content="{{title}}" />
                <meta property="og:image" content="{{@blog.url}}{{@blog.logo}}">
                <meta property="og:description" content="{{excerpt}}" />
                <meta property="og:url" content="{{@blog.url}}{{url}}" />
                <meta property="og:site_name" content="jondavidjohn.com" />
                <meta property="article:published_time" content="{{date format='YYYY-MM-DD'}}" />
            {{/contentFor}}

            <span class="post-meta"><time datetime="{{date format="YYYY-MM-DD"}}">{{date format='DD MMM YYYY'}}</time> {{tags prefix="on " separator=" | "}}</span>

            <h1 class="post-title">{{{title}}}</h1>

            <section class="post-content">
                {{content}}
            </section>

            <footer class="post-footer">

                <section class="author">
                    <h4>{{author.name}}</h4>
                    <p>{{author.bio}}</p>
                    <div id="twitter-follow">
	                    <a href="https://twitter.com/jondavidjohn" class="twitter-follow-button" data-show-count="false" data-size="large" data-dnt="true">Follow @jondavidjohn</a>
						<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
					</div>
                    <ul class="author-meta clearfix">
                        {{#if author.location}}<li>{{author.location}}</li>{{/if}}
                        {{#if author.website}}<li><a href="{{author.website}}">{{author.website}}</a></li>{{/if}}
                    </ul>
                </section>

                <section class="share">
                    <h4>Share this post</h4>
                    <a class="icon-twitter" href="https://twitter.com/share?text={{encode title}}&url={{url absolute="true"}}"
                        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                        <span class="hidden">Twitter</span>
                    </a>
                    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u={{url absolute="true"}}"
                        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                        <span class="hidden">Facebook</span>
                    </a>
                    <a class="icon-google-plus" href="https://plus.google.com/share?url={{url absolute="true"}}"
                       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                        <span class="hidden">Google+</span>
                    </a>
                </section>

            </footer>

        {{/post}}

    </article>

</main>
